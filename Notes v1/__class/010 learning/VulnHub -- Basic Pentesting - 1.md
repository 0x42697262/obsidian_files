---
date: 2023-06-05
type: note
tags:
    - vulnhub
    - writeups
---

# Basic Pentesting - 1

**Contents:**
1. [[#Introduction]]
2. [[#Pre-requisites]]
3. [[#Methodology]]
	1. [[#Enumeration]]
	2. [[#Exploitation]]
	3. [[#Privilege Escalation]]
	4. [[#Post-Exploitation]]
4. [[#Documentation of Flags/Proofs]]
5. [[#Conclusion]]
6. [[#Acknowledgments and References]]

---


# Introduction
----
**Difficulty**: Easy
**Goal**: Gain root access and find other attack vectors. 
	A simple boot2root VM intended for beginners that has multiple remote vulnerabilities and privilege escalations. I'd be writing up all the possible things I did on this VM and will serve as my stepping stone for my future learnings.

# Pre-requisites
----
- The vulnerable box: https://www.vulnhub.com/entry/basic-pentesting-1,216/
- Your preferred virtual machine
- Basic knowledge in reconnaissance and knowing how to search online

# Methodology
----

## Enumeration

### Host Discovery
Find the IP address of the vulnerable box. Do this through an arp scan or nmap scan.
```bash
arp
```
or
```bash
nmap -sn -T5 192.168.0.0/16
```

Note that in arp scan, it uses the local ARP cache thus the vuln box might not be there. So, you might want to scan with nmap instead. It takes time to scan with nmap.
`-sn` only sends a ping scan
`T5` is the most aggressive scan, this makes it faster for nmap to finish scanning but at higher detection rate.
`/16` it makes the first two octets `192.168` static so that on only the last two octets gets pinged.
It is very slow to scan the last two octets, thus it is recommended to scan the last octet only with `/24`. So, there maybe a requirement to know the first three octets of the IP.

With arp scan, I was able to acquire these IP addresses:
```bash
Address                  HWtype  HWaddress           Flags Mask            Iface
172.16.0.67                      (incomplete)                              wlo1
172.16.4.99              ether   66:5c:70:0c:20:e9   C                     wlo1
192.168.122.133          ether   52:54:00:df:3f:96   C                     virbr0
172.16.8.163                     (incomplete)                              wlo1
192.168.122.65           ether   52:54:00:d7:f3:74   C                     virbr0
_gateway                 ether   10:62:eb:33:15:c5   C                     wlo1
192.168.122.161          ether   52:54:00:c5:95:a4   C                     virbr0
```

Doing an nmap scan on these IP addresses should reveal which machine is our vulnerable box. This is done by running
```bash
$ nmap -sS -sV -O 192.168.122.133
```
Here are my results
```sh
Nmap scan report for 192.168.122.133
Host is up (0.000099s latency).
Not shown: 997 closed tcp ports (reset)
PORT   STATE SERVICE VERSION
21/tcp open  ftp     ProFTPD 1.3.3c
22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.8 (Ubuntu Linux; protocol 2.0)
80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))
MAC Address: 52:54:00:DF:3F:96 (QEMU virtual NIC)
Device type: general purpose
Running: Linux 4.X|5.X
OS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5
OS details: Linux 4.15 - 5.8
Network Distance: 1 hop
Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel
```
`-sS` if we want a stealth scan
`-sV` to detect the versions of the running services
`-O` to detect the operating system

There are three open ports: 21, 22, and 80. A FTP, SSH, and HTTP servers.

## Exploitation

## Privilege Escalation

## Post-Exploitation


# Documentation of Flags/Proofs
----

# Conclusion
----

# Acknowledgments and References
----